<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: uploadimg.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: uploadimg.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const { default: axios } = require('axios');
const { get } = require('express/lib/response');


/**
 * Get the browser type and display the image
 * @param sourceId
 * @returns {string}
 */
function getFileUrl(sourceId) {
    var url;
    if (navigator.userAgent.indexOf("MSIE") >= 1) { // IE
        url = document.getElementById(sourceId).value;
    } else if (navigator.userAgent.indexOf("Firefox") > 0) { // Firefox
        url = window.URL.createObjectURL(document.getElementById(sourceId).files.item(0));
    } else if (navigator.userAgent.indexOf("Chrome") > 0) { // Chrome
        url = window.URL.createObjectURL(document.getElementById(sourceId).files.item(0));
    }
    return url;
}

function preImg(sourceId, targetId) {
    var url = getFileUrl(sourceId);
    var imgPre = document.getElementById(targetId);
    imgPre.src = url;
}

/**
 * The story content that needs to be uploaded on the front page
 * is saved in the form of collection and stored in index using
 * storeImage
 */
function uploadindex(){
    console.log("Uploaded successfully");
    let formArray = $("form").serializeArray();
    var story={};
    for (let index in formArray){
        story[formArray[index].name] = formArray[index].value;
    }

    storeImage({title:story.title,author:story.author,intro:story.intro})
        .then(r =>console.log('Successful'))
        .catch();
    event.preventDefault();
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getFileUrl">getFileUrl</a></li><li><a href="global.html#uploadindex">uploadindex</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu May 19 2022 23:47:35 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
